(function(t){function e(e){for(var s,n,c=e[0],i=e[1],l=e[2],d=0,f=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,c=1;c<a.length;c++){var i=a[c];0!==o[i]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/morney-website/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"09d6":function(t,e,a){"use strict";a("824e")},"10a6":function(t,e,a){t.exports=a.p+"img/qrcode.bc266dd7.png"},"14ee":function(t,e,a){"use strict";a("e640")},"1d5c":function(t,e,a){},"1e95":function(t,e,a){},"25e5":function(t,e,a){},"2b80":function(t,e,a){"use strict";a.r(e);var s=a("e017"),o=a.n(s),r=a("feb8"),n=a.n(r),c=new o.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M711.111 28.444c17.067 0 28.445 5.69 39.822 17.067 22.756 22.756 17.067 56.889-5.689 79.645L381.156 455.11c-11.378 11.378-17.067 22.756-17.067 34.133 0 11.378 5.689 22.756 17.067 34.134l369.777 312.89c22.756 22.755 28.445 56.889 5.69 79.644-22.756 22.756-56.89 28.445-79.645 5.689l-364.09-312.889C278.757 580.267 256 534.756 256 489.244s17.067-85.333 51.2-119.466L671.289 39.822c11.378-5.689 28.444-11.378 39.822-11.378z" /></symbol>'});n.a.add(c);e["default"]=c},"37af":function(t,e,a){"use strict";a.r(e);var s=a("e017"),o=a.n(s),r=a("feb8"),n=a.n(r),c=new o.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M312.889 995.556c-17.067 0-28.445-5.69-39.822-17.067-22.756-22.756-17.067-56.889 5.689-79.645L642.844 568.89c11.378-11.378 17.067-22.756 17.067-34.133 0-11.378-5.689-22.756-17.067-34.134L273.067 187.733c-22.756-22.755-28.445-56.889-5.69-79.644 22.756-22.756 56.89-28.445 79.645-5.689l364.09 312.889C745.243 443.733 768 489.244 768 534.756s-17.067 85.333-51.2 119.466L352.711 984.178c-11.378 5.689-28.444 11.378-39.822 11.378z" /></symbol>'});n.a.add(c);e["default"]=c},"3f44":function(t,e,a){},"3f79":function(t,e,a){"use strict";a("d04c")},4346:function(t,e,a){"use strict";a("8a5d")},"47ed":function(t,e,a){"use strict";a("1e95")},"4ee4":function(t,e,a){"use strict";a("bea2")},"709b":function(t,e,a){},"765c":function(t,e,a){"use strict";a.r(e);var s=a("e017"),o=a.n(s),r=a("feb8"),n=a.n(r),c=new o.a({id:"label",use:"label-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="label"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M525.312 247.936h-1.92a129.664 129.664 0 0 1-12.096 39.04l-57.92 142.4h137.728l-55.872-142.4c-6.72-16.896-9.92-29.888-9.92-39.04z" /><path d="M849.152 98.432a37.376 37.376 0 0 0-37.248-37.248H211.712a37.376 37.376 0 0 0-37.248 37.248v561.92c0 20.48 12.864 47.872 28.672 60.992l280 231.68a47.424 47.424 0 0 0 57.536.32l279.936-227.072c15.936-12.864 28.864-40.192 28.864-60.672l-.32-567.168zm-193.28 491.712-40-100.032H429.76l-41.984 100.032h-72L489.792 174.08h66.048l174.016 416.064h-73.984z" /></symbol>'});n.a.add(c);e["default"]=c},8082:function(t,e,a){"use strict";a("edc2")},"824e":function(t,e,a){},8254:function(t,e,a){"use strict";a("25e5")},8542:function(t,e,a){"use strict";a("3f44")},8767:function(t,e,a){},"8a5d":function(t,e,a){},"8b1b":function(t,e,a){"use strict";a.r(e);var s=a("e017"),o=a.n(s),r=a("feb8"),n=a.n(r),c=new o.a({id:"close",use:"close-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="close"><path d="m562.281 510.8 294.997-293.466c13.95-13.878 14.02-36.367.142-50.317-13.914-13.985-36.367-14.02-50.317-.142L512.035 460.377 219.529 166.982c-13.842-13.878-36.367-13.95-50.317-.072-13.914 13.879-13.949 36.404-.072 50.353l292.437 293.325L166.72 803.877c-13.95 13.878-14.02 36.367-.142 50.317a35.513 35.513 0 0 0 25.23 10.497c9.073 0 18.148-3.452 25.087-10.355l294.926-293.36L806.997 857.04c6.939 6.975 16.048 10.463 25.193 10.463a35.52 35.52 0 0 0 25.124-10.39c13.914-13.879 13.95-36.368.071-50.318L562.281 510.801z" /></symbol>'});n.a.add(c);e["default"]=c},"8ccb":function(t,e,a){"use strict";a.r(e);var s=a("e017"),o=a.n(s),r=a("feb8"),n=a.n(r),c=new o.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M175.104 518.656h120.32v134.656h-120.32zm553.984-215.552h120.32v350.72h-120.32z" /><path d="M957.44 28.672H66.56C29.696 28.672 0 58.368 0 95.232v623.104c0 36.864 29.696 66.56 66.56 66.56h890.88c36.864 0 66.56-29.696 66.56-66.56V95.232c0-36.864-29.696-66.56-66.56-66.56zm0 667.648c0 12.288-9.728 22.016-22.016 22.016H89.088c-12.288 0-22.016-9.728-22.016-22.016V117.76c0-12.288 9.728-22.016 22.016-22.016h845.824c12.288 0 22.016 9.728 22.016 22.016v578.56z" /><path d="M344.064 410.624h120.32v242.688h-120.32zm192.512-215.552h120.32v458.752h-120.32z" /></symbol>'});n.a.add(c);e["default"]=c},"8f45":function(t,e,a){"use strict";a.r(e),a.d(e,"TagHelper",(function(){return c}));var s=a("9ab4"),o=a("2b0e"),r=a("2fe1");const n={"tag name duplicated":"标签名重复了"};let c=class extends o["a"]{createTag(){const t=window.prompt("请输入标签名");if(!t)return window.alert("标签名不能为空");this.$store.commit("createTag",t),this.$store.state.createTagError&&window.alert(n[this.$store.state.createTagError.message]||"未知错误")}};c=Object(s["a"])([r["b"]],c)},9219:function(t,e,a){},"9dcb":function(t,e,a){"use strict";a("9219")},a052:function(t,e,a){"use strict";a("1d5c")},acb7:function(t,e,a){"use strict";a("b26a")},b26a:function(t,e,a){},b422:function(t,e,a){var s={"./close.svg":"8b1b","./label.svg":"765c","./left.svg":"2b80","./money.svg":"cf44","./right.svg":"37af","./statistics.svg":"8ccb"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="b422"},bea2:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),s("div",{staticClass:"qrcode-wrapper"},[s("div",{on:{click:t.close}},[s("Icon",{staticClass:"close",attrs:{name:"close"}})],1),s("img",{staticClass:"qrcode",attrs:{src:a("10a6"),alt:"二维码"}})])],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"icon",on:{click:function(e){return t.$emit("click",e)}}},[a("use",{attrs:{"xlink:href":"#"+t.name}})])},c=[];let i=t=>t.keys().forEach(t);try{i(a("b422"))}catch(Oe){console.log(Oe)}var l={name:"Icon",props:["name"]},u=l,d=(a("47ed"),a("2877")),f=Object(d["a"])(u,n,c,!1,null,"032df2f1",null),p=f.exports,m=s["a"].extend({components:{Icon:p},methods:{close(){const t=document.getElementsByClassName("qrcode-wrapper")[0];t.classList.add("closed")}}}),h=m,v=(a("4346"),Object(d["a"])(h,o,r,!1,null,null,null)),b=v.exports,g=a("9483");Object(g["a"])("/morney-website/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var y=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{attrs:{"class-prefix":"layout"}},[a("NumberPad",{attrs:{value:t.record.amount},on:{"update:value":function(e){return t.$set(t.record,"amount",e)},submit:t.saveRecord}}),a("Tabs",{attrs:{"data-source":t.recordTypeList,value:t.record.type},on:{"update:value":function(e){return t.$set(t.record,"type",e)}}}),a("div",{staticClass:"createAt"},[a("FormItem",{attrs:{type:"date","field-name":"日期",placeholder:"在这里输入日期",value:t.record.createAt},on:{"update:value":function(e){return t.$set(t.record,"createAt",e)}}})],1),a("div",{staticClass:"notes"},[a("FormItem",{attrs:{"field-name":"备注",placeholder:"在这里输入备注",value:t.record.notes},on:{"update:value":function(e){return t.$set(t.record,"notes",e)}}})],1),a("Tags",{attrs:{value:t.record.tags},on:{"update:value":function(e){return t.$set(t.record,"tags",e)}}})],1)},_=[],O=a("ade3"),x=a("9ab4"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numberPad"},[a("div",{staticClass:"output"},[t._v(t._s(t.output))]),a("div",{staticClass:"buttons clearfix"},[a("button",{on:{click:t.inputContent}},[t._v("1")]),a("button",{on:{click:t.inputContent}},[t._v("2")]),a("button",{on:{click:t.inputContent}},[t._v("3")]),a("button",{on:{click:t.remove}},[t._v("删除")]),a("button",{on:{click:t.inputContent}},[t._v("4")]),a("button",{on:{click:t.inputContent}},[t._v("5")]),a("button",{on:{click:t.inputContent}},[t._v("6")]),a("button",{on:{click:t.clear}},[t._v("清空")]),a("button",{on:{click:t.inputContent}},[t._v("7")]),a("button",{on:{click:t.inputContent}},[t._v("8")]),a("button",{on:{click:t.inputContent}},[t._v("9")]),a("button",{staticClass:"ok",on:{click:t.ok}},[t._v("OK")]),a("button",{staticClass:"zero",on:{click:t.inputContent}},[t._v("0")]),a("button",{on:{click:t.inputContent}},[t._v(".")])])])},C=[],k=a("1b40");let T=class extends s["a"]{constructor(...t){super(...t),Object(O["a"])(this,"output","0")}inputContent(t){const e=t.target,a=e.textContent;this.output.length>16||("0"!==this.output?this.output.indexOf(".")>=0&&"."===a||(this.output+=a):"0123456789".indexOf(a)>=0?this.output=a:this.output+=a)}remove(){const t=this.output.substring(0,this.output.length-1);1===this.output.length?this.output="0":this.output=t}clear(){this.output="0"}ok(){const t=parseFloat(this.output);this.$emit("update:value",t),this.$emit("submit",t),this.output="0"}};T=Object(x["a"])([k["a"]],T);var L=T,$=L,S=(a("fe34"),Object(d["a"])($,j,C,!1,null,"a98fb7b2",null)),E=S.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{staticClass:"formItem"},[a("span",{staticClass:"name"},[t._v(t._s(this.fieldName))]),"date"===t.type?[a("input",{attrs:{type:t.type||"text",placeholder:t.placeholder},domProps:{value:t.x(t.value)},on:{input:function(e){return t.onValueChanged(e.target.value)}}})]:[a("input",{attrs:{type:t.type||"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.onValueChanged(e.target.value)}}})]],2)])},z=[],I=a("5a0c"),N=a.n(I);let B=class extends s["a"]{constructor(...t){super(...t),Object(O["a"])(this,"value",void 0),Object(O["a"])(this,"fieldName",void 0),Object(O["a"])(this,"placeholder",void 0),Object(O["a"])(this,"type",void 0)}onValueChanged(t){this.$emit("update:value",t)}x(t){return N()(t).format("YYYY-MM-DD")}};Object(x["a"])([Object(k["b"])({default:""})],B.prototype,"value",void 0),Object(x["a"])([Object(k["b"])({required:!0})],B.prototype,"fieldName",void 0),Object(x["a"])([Object(k["b"])()],B.prototype,"placeholder",void 0),Object(x["a"])([Object(k["b"])()],B.prototype,"type",void 0),B=Object(x["a"])([k["a"]],B);var P=B,Y=P,A=(a("8254"),Object(d["a"])(Y,M,z,!1,null,"ecd36056",null)),H=A.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[a("div",{staticClass:"new"},[a("button",{on:{click:t.createTag}},[t._v("新增标签")])]),a("ul",{staticClass:"current"},t._l(t.tagList,(function(e){return a("li",{key:e.id,class:{selected:t.selectedTags.indexOf(e)>=0},on:{click:function(a){return t.toggle(e)}}},[t._v(t._s(e.name)+" ")])})),0)])},R=[],V=a("2fe1"),F=a("8f45");let J=class extends(Object(V["c"])(F["TagHelper"])){constructor(...t){super(...t),Object(O["a"])(this,"selectedTags",[])}get tagList(){return this.$store.state.tagList}created(){this.$store.commit("fetchTags")}toggle(t){const e=this.selectedTags.indexOf(t);e>=0?this.selectedTags.splice(e,1):this.selectedTags.push(t),this.$emit("update:value",this.selectedTags)}};J=Object(x["a"])([k["a"]],J);var q=J,W=q,U=(a("e484"),Object(d["a"])(W,D,R,!1,null,"5cac329d",null)),K=U.exports,G=function(){var t,e=this,a=e.$createElement,s=e._self._c||a;return s("ul",{staticClass:"tabs",class:(t={},t[e.classPrefix+"-tabs"]=e.classPrefix,t)},e._l(e.dataSource,(function(t){return s("li",{key:t.value,staticClass:"tabs-item",class:e.liClass(t),on:{click:function(a){return e.select(t)}}},[e._v(e._s(t.text)+" ")])})),0)},Q=[];let X=class extends s["a"]{constructor(...t){super(...t),Object(O["a"])(this,"dataSource",void 0),Object(O["a"])(this,"value",void 0),Object(O["a"])(this,"classPrefix",void 0)}liClass(t){return{[this.classPrefix+"-tabs-item"]:this.classPrefix,selected:t.value===this.value}}select(t){this.$emit("update:value",t.value)}};Object(x["a"])([Object(k["b"])({required:!0,type:Array})],X.prototype,"dataSource",void 0),Object(x["a"])([Object(k["b"])(String)],X.prototype,"value",void 0),Object(x["a"])([Object(k["b"])(String)],X.prototype,"classPrefix",void 0),X=Object(x["a"])([k["a"]],X);var Z=X,tt=Z,et=(a("4ee4"),Object(d["a"])(tt,G,Q,!1,null,"25aab68a",null)),at=et.exports,st=Object.freeze([{text:"支出",value:"-"},{text:"收入",value:"+"}]);let ot=class extends s["a"]{constructor(...t){super(...t),Object(O["a"])(this,"record",{tags:[],notes:"",type:"-",amount:0,createAt:(new Date).toISOString()}),Object(O["a"])(this,"recordTypeList",st)}get recordList(){return this.$store.state.recordList}created(){this.$store.commit("fetchRecords")}onUpdateNotes(t){this.record.notes=t}saveRecord(){if(!this.record.tags||0===this.record.tags.length)return window.alert("请至少选择一个标签");this.$store.commit("createRecord",this.record),null===this.$store.state.createRecordError&&(window.alert("已保存"),this.record.notes="")}};ot=Object(x["a"])([Object(k["a"])({components:{Tabs:at,Tags:K,FormItem:H,NumberPad:E}})],ot);var rt=ot,nt=rt,ct=(a("acb7"),Object(d["a"])(nt,w,_,!1,null,"6b57e902",null)),it=ct.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"tags"},t._l(t.tags,(function(e){return a("router-link",{key:e.id,staticClass:"tag",attrs:{to:"/labels/edit/"+e.id}},[a("span",[t._v(t._s(e.name))]),a("icon",{attrs:{name:"right"}})],1)})),1),a("div",{staticClass:"createTag-wrapper"},[a("Button",{staticClass:"createTag",on:{click:t.createTag}},[t._v("新建标签")])],1)])},ut=[],dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button",on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)},ft=[];let pt=class extends s["a"]{};pt=Object(x["a"])([k["a"]],pt);var mt=pt,ht=mt,vt=(a("9dcb"),Object(d["a"])(ht,dt,ft,!1,null,"5a87615e",null)),bt=vt.exports;a("8f45");let gt=class extends(Object(V["c"])(F["TagHelper"])){get tags(){return this.$store.state.tagList}beforeCreate(){this.$store.commit("fetchTags")}};gt=Object(x["a"])([Object(k["a"])({components:{Button:bt}})],gt);var yt=gt,wt=yt,_t=(a("8542"),Object(d["a"])(wt,lt,ut,!1,null,"6e9386cc",null)),Ot=_t.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("Tabs",{attrs:{"class-prefix":"type","data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),a("div",{ref:"barWrapper",staticClass:"bar-wrapper"},[a("Chart",{staticClass:"chart-bar",attrs:{options:t.chartOptions}})],1),t.groupedList.length>0?a("ol",t._l(t.groupedList,(function(e,s){return a("li",{key:s},[a("h3",{staticClass:"title"},[t._v(t._s(t.beautify(e.title))+" "),a("span",[t._v("￥"+t._s(e.total))])]),a("ol",t._l(e.items,(function(e){return a("li",{key:e.id,staticClass:"record"},[a("span",[t._v(t._s(t.tagString(e.tags)))]),a("span",{staticClass:"notes"},[t._v(t._s(e.notes))]),a("span",[t._v("￥"+t._s(e.amount))])])})),0)])})),0):a("div",{staticClass:"noResult"},[a("span",[t._v("目前没有相关记录")])])],1)},jt=[];a("13d5");function Ct(t){return JSON.parse(JSON.stringify(t))}var kt=Ct,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapper",staticClass:"chart-wrapper"})},Lt=[],$t=a("313e");let St=class extends k["c"]{constructor(...t){super(...t),Object(O["a"])(this,"options",void 0),Object(O["a"])(this,"chart",void 0)}mounted(){if(void 0===this.options)return console.log("options 为空");this.chart=$t["a"](this.$refs.wrapper),this.chart.setOption(this.options)}onOptionsChange(){return this.chart.setOption(this.options)}};Object(x["a"])([Object(k["b"])()],St.prototype,"options",void 0),Object(x["a"])([Object(k["d"])("options")],St.prototype,"onOptionsChange",null),St=Object(x["a"])([k["a"]],St);var Et=St,Mt=Et,zt=(a("3f79"),Object(d["a"])(Mt,Tt,Lt,!1,null,"7d94d772",null)),It=zt.exports,Nt=a("2ef0"),Bt=a.n(Nt);let Pt=class extends s["a"]{constructor(...t){super(...t),Object(O["a"])(this,"type","-"),Object(O["a"])(this,"recordTypeList",st)}get keyValueList(){const t=new Date,e=[];for(let a=0;a<=29;a++){const s=N()(t).subtract(a,"day").format("YYYY-MM-DD"),o=Bt.a.find(this.groupedList,{title:s});e.push({key:s,value:o?o.total:0}),e.sort((t,e)=>t.key>e.key?1:t.key===e.key?0:-1)}return e}get chartOptions(){const t=this.keyValueList.map(t=>t.key),e=this.keyValueList.map(t=>t.value);return{tooltip:{trigger:"item",triggerOn:"mousemove|click",position:"top",formatter:"{c}"},grid:{left:0,right:0},xAxis:{type:"category",data:t,axisTick:{alignWithLabel:!0},axisLabel:{formatter:function(t){return t.substr(5)}},axisLine:{lineStyle:{color:"#666"}}},yAxis:{show:!1,type:"value"},series:[{symbol:"circle",symbolSize:12,itemStyle:{color:"#666"},data:e,type:"line"}]}}tagString(t){return 0===t.length?"无":t.map(t=>t.name).join("，")}beautify(t){const e=N()(t),a=N()();return e.isSame(a,"day")?"今天":e.isSame(a.subtract(1,"day"),"day")?"昨天":e.isSame(a.subtract(2,"day"),"day")?"前天":e.isSame(a,"year")?e.format("M月D日"):e.format("YYYY年M月D日")}get recordList(){return this.$store.state.recordList}get groupedList(){const{recordList:t}=this,e=kt(t).filter(t=>t.type===this.type).sort((t,e)=>N()(e.createAt).valueOf()-N()(t.createAt).valueOf());if(0===e.length)return[];const a=[{title:N()(e[0].createAt).format("YYYY-MM-DD"),items:[e[0]]}];for(let s=1;s<e.length;s++){const t=e[s],o=a[a.length-1];N()(o.title).isSame(N()(t.createAt),"day")?o.items.push(e[s]):a.push({title:N()(t.createAt).format("YYYY-MM-DD"),items:[t]})}return a.map(t=>{t.total=t.items.reduce((t,e)=>t+e.amount,0)}),a}beforeCreate(){this.$store.commit("fetchRecords")}mounted(){const t=this.$refs.barWrapper;t.scrollLeft=t.scrollWidth}};Pt=Object(x["a"])([Object(k["a"])({components:{Tabs:at,Chart:It}})],Pt);var Yt=Pt,At=Yt,Ht=(a("8082"),Object(d["a"])(At,xt,jt,!1,null,"00470cf1",null)),Dt=Ht.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v("当前页面不存在，请检查网址是否存在")]),a("div",[a("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)])},Vt=[],Ft={name:"Notfound"},Jt=Ft,qt=Object(d["a"])(Jt,Rt,Vt,!1,null,"f20f20be",null),Wt=qt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"navBar"},[a("Icon",{staticClass:"leftIcon",attrs:{name:"left"},on:{click:t.goBack}}),a("span",{staticClass:"title"},[t._v("编辑标签")]),a("span",{staticClass:"rightIcon"})],1),a("div",{staticClass:"form-wrapper"},[a("FormItem",{attrs:{value:t.currentTag.name,"field-name":"标签名",placeholder:"请输入标签名"},on:{"update:value":t.update}})],1),a("div",{staticClass:"button-wrapper"},[a("Button",{on:{click:t.remove}},[t._v("删除标签")])],1)])},Kt=[];let Gt=class extends s["a"]{get currentTag(){return this.$store.state.currentTag}created(){const t=this.$route.params.id;this.$store.commit("fetchTags"),this.$store.commit("setCurrentTag",t),this.currentTag||this.$router.replace("/404")}update(t){this.currentTag&&this.$store.commit("updateTag",{id:this.currentTag.id,name:t})}remove(){this.currentTag&&this.$store.commit("removeTag",this.currentTag.id)}goBack(){this.$store.state.currentTag.name?this.$router.back():window.alert("标签名不能为空")}};Gt=Object(x["a"])([Object(k["a"])({components:{Button:bt,FormItem:H}})],Gt);var Qt=Gt,Xt=Qt,Zt=(a("09d6"),Object(d["a"])(Xt,Ut,Kt,!1,null,"1ea4a6e5",null)),te=Zt.exports;s["a"].use(y["a"]);const ee=[{path:"/",redirect:"money"},{path:"/money",component:it},{path:"/labels",component:Ot},{path:"/statistics",component:Dt},{path:"/labels/edit/:id",component:te},{path:"*",component:Wt}],ae=new y["a"]({routes:ee});var se=ae,oe=(a("d9e2"),a("2f62"));let re=parseInt(window.localStorage.getItem("_idMax")||"0")||0;function ne(){return re++,window.localStorage.setItem("_idMax",re.toString()),re}var ce=ne;s["a"].use(oe["a"]);const ie=new oe["a"].Store({state:{recordList:[],createRecordError:null,createTagError:null,tagList:[],currentTag:void 0},mutations:{setCurrentTag(t,e){t.currentTag=t.tagList.filter(t=>t.id===e)[0]},fetchRecords(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]")},updateTag(t,e){const{id:a,name:s}=e,o=t.tagList.map(t=>t.id);if(o.indexOf(a)>=0){const e=t.tagList.map(t=>t.name);if(e.indexOf(s)>=0)window.alert("标签名重复了");else{const e=t.tagList.filter(t=>t.id===a)[0];e.name=s,ie.commit("saveTags")}}},removeTag(t,e){let a=-1;for(let s=0;s<t.tagList.length;s++)if(t.tagList[s].id===e){a=s;break}a>=0?(t.tagList.splice(a,1),ie.commit("saveTags"),se.back()):window.alert("删除失败")},createRecord(t,e){const a=kt(e);a.createAt=a.createAt||(new Date).toISOString(),t.recordList.push(a),ie.commit("saveRecords")},saveRecords(t){window.localStorage.setItem("recordList",JSON.stringify(t.recordList))},fetchTags(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]"),t.tagList&&0!==t.tagList.length||(ie.commit("createTag","衣"),ie.commit("createTag","食"),ie.commit("createTag","住"),ie.commit("createTag","行"))},createTag(t,e){t.createTagError=null;const a=t.tagList.map(t=>t.name);if(a.indexOf(e)>=0)return t.createTagError=new Error("tag name duplicated");const s=ce().toString();t.tagList.push({id:s,name:e}),ie.commit("saveTags")},saveTags(t){window.localStorage.setItem("tagList",JSON.stringify(t.tagList))}}});var le=ie,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[a("Icon",{attrs:{name:"money"}}),t._v(" 记账 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/labels","active-class":"selected"}},[a("Icon",{attrs:{name:"label"}}),t._v(" 标签 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/statistics","active-class":"selected"}},[a("Icon",{attrs:{name:"statistics"}}),t._v(" 统计 ")],1)],1)},de=[],fe={name:"Nav"},pe=fe,me=(a("a052"),Object(d["a"])(pe,ue,de,!1,null,"4eddd5fc",null)),he=me.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-wrapper"},[a("div",{staticClass:"content",class:t.classPrefix&&t.classPrefix+"-content"},[t._t("default")],2),a("Nav")],1)},be=[],ge={name:"Layout",props:["classPrefix"]},ye=ge,we=(a("14ee"),Object(d["a"])(ye,ve,be,!1,null,"37ad001d",null)),_e=we.exports;s["a"].config.productionTip=!1,s["a"].component("Nav",he),s["a"].component("Layout",_e),s["a"].component("Icon",p),new s["a"]({router:se,store:le,render:t=>t(b)}).$mount("#app"),window.onload=function(){setTimeout((function(){window.scrollTo(0,200)}),0)}},cf44:function(t,e,a){"use strict";a.r(e);var s=a("e017"),o=a.n(s),r=a("feb8"),n=a.n(r),c=new o.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M108.64 306.27h50.994v136.087H108.64zm0 272.174h50.994V713.53H108.64z" /><path d="M986.654 130.487v765.925c0 70.394-57.195 127.588-127.588 127.588l-622.94-2.8c-70.392 0-127.587-57.194-127.587-127.587v-43.996h50.995v43.996c0 42.196 34.297 76.592 76.593 76.592l622.94 2.8c42.195 0 76.592-34.297 76.592-76.593V130.487c0-42.196-34.297-76.592-76.593-76.592l-622.94-2.8c-42.195 0-76.592 34.297-76.592 76.593v42.495H108.54v-42.495C108.54 57.294 165.734.1 236.127.1l622.94 2.8c70.392 0 127.587 57.294 127.587 127.587z" /><path d="M37.546 754.626h183.682v50.995H37.546zm0-542.447h183.682v50.995H37.546zm0 272.774h183.682v50.995H37.546zm270.674-35.297h531.248v50.995H308.22zm0-202.88h531.248v50.995H308.22zm0 409.56h315.57v50.995H308.22zm499.951-9.8-45.196 100.691-44.095-100.69h-58.694l74.192 101.49h-54.494v33.997h68.793v34.896h-68.793v33.497h68.793v68.293h33.997v-68.293h68.293V816.92h-68.293v-34.796h68.293v-33.997h-60.294l86.891-101.49h-69.393z" /></symbol>'});n.a.add(c);e["default"]=c},d04c:function(t,e,a){},e484:function(t,e,a){"use strict";a("8767")},e640:function(t,e,a){},edc2:function(t,e,a){},fe34:function(t,e,a){"use strict";a("709b")}});
//# sourceMappingURL=app.303b3d99.js.map